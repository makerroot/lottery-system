import{a as s}from"./axios-78d57de0.js";import{m as r}from"./antd-vue-e1953b5a.js";const o=s.create({baseURL:"/",timeout:1e4});o.interceptors.request.use(e=>{const t=localStorage.getItem("admin_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));o.interceptors.response.use(e=>e.data,e=>{if(e.response){const{status:t,data:a}=e.response;switch(t){case 401:r.error("登录已过期，请重新登录"),localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),window.location.href="/admin";break;case 403:r.error("没有权限访问");break;case 404:r.error("请求的资源不存在");break;case 500:r.error("服务器错误，请稍后重试");break;default:r.error(a.error||"请求失败")}}else e.request?r.error("网络错误，请检查网络连接"):r.error("请求配置错误");return Promise.reject(e)});export{o as r};
